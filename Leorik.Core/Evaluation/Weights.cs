using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Leorik.Core
{
    public static class Weights
    {
        public static readonly short[] PhaseValues = new short[6] { 0, 153, 346, 402, 698, 0 };

        public static readonly short[] MidgameTables = new short[10 * 64]{
        //Pawns
          100,  100,  100,  100,  100,  100,  100,  100,
          118,  115,   94,  117,  125,  152,  101,   53,
           40,   48,   78,   72,   97,  134,   74,   59,
           55,   79,   72,   91,   92,   84,   88,   57,
           46,   55,   74,   87,   87,   79,   68,   43,
           55,   59,   66,   65,   78,   78,   88,   66,
           48,   71,   69,   75,   75,  104,  111,   71,
          100,  100,  100,  100,  100,  100,  100,  100,
        //Knights
          147,  239,  258,  273,  306,  232,  250,  218,
          264,  305,  411,  357,  395,  405,  327,  323,
          308,  366,  369,  401,  426,  444,  405,  347,
          346,  369,  360,  401,  373,  396,  359,  367,
          341,  345,  370,  363,  380,  376,  363,  335,
          337,  356,  376,  372,  384,  382,  382,  341,
          331,  317,  349,  367,  365,  365,  346,  345,
          264,  342,  314,  332,  340,  333,  339,  274,
        //Bishops
          344,  299,  282,  274,  271,  308,  300,  303,
          337,  370,  350,  331,  369,  404,  362,  374,
          349,  367,  409,  376,  407,  394,  391,  385,
          351,  373,  381,  399,  391,  374,  379,  368,
          368,  377,  381,  394,  403,  380,  380,  366,
          393,  401,  396,  383,  392,  407,  393,  396,
          368,  406,  389,  383,  390,  399,  417,  378,
          374,  372,  389,  378,  375,  367,  351,  375,
        //Rooks
          482,  498,  476,  514,  509,  498,  493,  475,
          475,  466,  500,  518,  508,  535,  519,  516,
          457,  470,  472,  485,  494,  505,  528,  494,
          437,  453,  473,  484,  469,  483,  482,  476,
          441,  438,  447,  457,  467,  465,  485,  459,
          445,  456,  468,  475,  486,  487,  494,  470,
          450,  465,  466,  476,  487,  488,  490,  438,
          476,  478,  495,  499,  508,  493,  467,  486,
        //Queens
          855,  862,  882,  873,  931,  931,  905,  897,
          880,  867,  868,  859,  852,  967,  916,  986,
          878,  876,  905,  900,  930,  948,  972,  961,
          872,  882,  877,  885,  892,  895,  890,  914,
          896,  882,  894,  885,  901,  898,  908,  899,
          898,  918,  901,  906,  906,  920,  923,  911,
          897,  910,  917,  919,  924,  931,  928,  913,
          913,  913,  922,  926,  917,  891,  884,  891,
        //Kings
          -22,    4,   13,    2,   -7,    5,    7,  -12,
            1,   49,   43,   37,   27,   40,    5,  -18,
           10,   67,   39,   35,   12,   46,   55,   -5,
           -8,   15,   31,   -4,  -14,   -9,   -2,  -44,
           -8,   21,    5,  -56,  -51,  -48,  -41,  -62,
           11,   16,  -34,  -56,  -58,  -38,   -9,  -16,
           21,    5,  -21,  -58,  -42,  -23,   23,   30,
          -18,   47,   26,  -42,   14,  -20,   47,   33,
        //Isolated Pawns
            0,    0,    0,    0,    0,    0,    0,    0,
           -9,    0,    1,   -4,   -4,    2,   -2,   -4,
           -4,  -11,   -1,   -2,   -2,   -3,   -6,  -10,
            2,  -12,   -9,  -17,  -12,   -4,   -4,   -3,
           -4,   -8,  -15,  -19,  -10,  -10,   -4,   -1,
          -12,  -12,  -11,   -7,  -13,   -7,  -11,  -11,
           -3,  -10,    2,  -22,   -6,   -6,  -11,  -13,
            0,    0,    0,    0,    0,    0,    0,    0,
        //Passed Pawns
            0,    0,    0,    0,    0,    0,    0,    0,
            1,    1,    0,    1,    1,    3,    0,   -2,
           57,   55,   31,   18,   15,   36,   28,   31,
           22,   22,   15,    8,    4,   20,   20,   12,
           15,    6,   -2,   -4,    0,    4,   10,   18,
            3,    5,    0,  -13,    7,   10,   14,   22,
            5,    5,    3,   -7,    1,   10,   20,    6,
            0,    0,    0,    0,    0,    0,    0,    0,
        //Protected Pawns
            0,    0,    0,    0,    0,    0,    0,    0,
           -1,   -3,    1,    4,    6,    2,   -2,   -6,
            9,    7,   16,   22,   19,   19,   11,    5,
            0,    5,   17,   12,   26,   16,    9,   11,
            2,   18,   11,   13,   17,   16,   25,   12,
            5,   13,   19,   17,   16,    9,   21,   15,
            0,    0,    0,    0,    0,    0,    0,    0,
            0,    0,    0,    0,    0,    0,    0,    0,
        //Connected Pawns
            0,    0,    0,    0,    0,    0,    0,    0,
            4,    6,    4,    4,    4,    3,    3,    2,
           10,   14,   12,   14,   14,   13,   15,    9,
           10,   11,   11,   17,   18,   19,   12,    5,
           -3,   13,    8,    7,   16,    9,   22,    7,
            0,    3,   11,   13,   14,    7,    7,    1,
            9,    5,    3,    2,    9,    3,    7,    6,
            0,    0,    0,    0,    0,    0,    0,    0,
        };

        public static short[] EndgameTables = new short[10 * 64]{
        //Pawns
            0,    0,    0,    0,    0,    0,    0,    0,
          101,   88,  100,   56,   43,    0,   88,  143,
           73,   70,   34,   44,   16,  -60,   43,   53,
           36,    6,    4,  -26,  -28,  -14,  -11,   26,
           32,   27,   -3,  -22,  -20,  -16,   -2,   23,
           16,   18,    2,   10,   -5,  -13,  -28,  -10,
           29,    2,   11,   10,   12,  -30,  -44,   -6,
            0,    0,    0,    0,    0,    0,    0,    0,
        //Knights
           70,  -33,  -24,  -43,  -78,  -11,  -43,  -45,
          -42,  -73, -197, -115, -171, -192, -103, -121,
          -89, -137, -113, -150, -195, -212, -184, -131,
         -116, -127, -100, -142, -112, -143, -112, -141,
         -116, -105, -116, -101, -122, -126, -121, -100,
         -118, -120, -142, -122, -138, -140, -156, -126,
         -122,  -91, -121, -138, -134, -137, -127, -140,
          -57, -138,  -91, -103, -118, -106, -137,  -63,
        //Bishops
          -96,  -40,  -17,   -1,   -1,  -45,  -41,  -42,
          -80, -116,  -90,  -76, -111, -159, -103, -140,
          -89, -109, -159, -112, -156, -133, -138, -133,
          -87, -114, -119, -135, -126, -112, -130, -115,
         -116, -122, -117, -129, -148, -120, -135, -113,
         -149, -150, -139, -123, -133, -157, -144, -155,
         -117, -171, -146, -133, -141, -155, -182, -140,
         -137, -122, -149, -128, -124, -114, -105, -137,
        //Rooks
            5,  -18,   11,  -38,  -32,  -24,  -18,    4,
            6,   24,  -21,  -43,  -39,  -71,  -50,  -51,
           25,   10,    7,   -9,  -24,  -39,  -66,  -28,
           48,   27,    7,  -11,    6,   -9,  -15,   -3,
           39,   44,   36,   22,    7,    5,  -22,    8,
           28,   17,    0,  -10,  -26,  -30,  -39,  -11,
           20,    2,    6,   -7,  -28,  -29,  -34,   30,
          -11,  -10,  -31,  -34,  -51,  -28,   -1,  -47,
        //Queens
           21,   39,   16,   44,  -35,  -37,  -33,    0,
            2,   25,   45,   76,   91,  -52,    6, -120,
           -6,    9,  -16,   10,   -3,  -44,  -82,  -72,
           12,   14,   18,   31,   41,   39,   44,    7,
          -19,   15,   -3,   33,    8,    8,   -1,   14,
          -27,  -65,   -8,  -27,  -14,  -29,  -26,  -16,
          -22,  -41,  -51,  -49,  -56,  -82,  -86,  -55,
          -51,  -59,  -68,  -71,  -46,  -23,  -15,  -38,
        //Kings
          -43,  -39,  -41,  -30,  -13,  -14,  -17,  -20,
          -34,  -37,  -31,  -26,  -11,  -10,   28,   12,
          -35,  -57,  -22,  -21,    9,  -15,  -20,    0,
          -27,   -6,  -12,   31,   39,   40,   26,   36,
          -30,  -21,   16,   92,   88,   82,   61,   50,
          -49,  -12,   61,   94,   96,   70,   24,   -1,
          -59,    2,   45,   94,   73,   48,  -19,  -62,
          -27,  -92,  -56,   26,  -46,    3,  -90,  -99,
        //Isolated Pawns
            0,    0,    0,    0,    0,    0,    0,    0,
           -6,    3,    1,   -1,   -1,    6,    4,    1,
           -7,   -9,    3,    7,    5,    3,   -1,    3,
           -8,    0,    5,   16,   15,   -2,   -6,   -6,
            6,    5,   17,   20,    5,    8,   -3,   -1,
           16,    7,   12,    6,    8,    7,    9,   14,
            5,    7,  -13,    9,   -1,    0,    7,   15,
            0,    0,    0,    0,    0,    0,    0,    0,
        //Passed Pawns
            0,    0,    0,    0,    0,    0,    0,    0,
            5,    4,    5,    3,    2,    0,    4,    7,
           57,   52,   41,   27,   23,   41,   43,   56,
           39,   38,   31,   33,   28,   19,   32,   40,
           16,   21,   21,   22,   18,   18,   25,   13,
            5,    8,    7,   16,   -2,   -1,    5,  -12,
           -7,    7,   -3,    0,   -1,   -9,   -9,   -5,
            0,    0,    0,    0,    0,    0,    0,    0,
        //Protected Pawns
            0,    0,    0,    0,    0,    0,    0,    0,
           -2,   -4,    0,    3,    4,    1,   -2,   -6,
            8,    2,    7,   11,   12,   14,    4,    3,
           10,    4,   -3,    3,   -8,   -4,    3,    0,
            6,  -10,   -3,   -1,   -5,  -12,  -16,   -3,
            6,    1,   -1,    0,   -3,    2,  -10,   -2,
            0,    0,    0,    0,    0,    0,    0,    0,
            0,    0,    0,    0,    0,    0,    0,    0,
        //Connected Pawns
            0,    0,    0,    0,    0,    0,    0,    0,
            3,    5,    3,    4,    4,    2,    3,    2,
            7,   10,    9,   10,   10,   11,   12,    7,
            5,    9,    8,    8,   10,    8,    6,    2,
            0,    0,   -3,    2,   -1,   -4,  -11,   -8,
           -4,   -1,   -6,  -10,   -7,   -5,   -1,   -2,
           -3,   -6,   10,    5,    3,  -15,    5,  -25,
            0,    0,    0,    0,    0,    0,    0,    0,
        };

        //Max possible moves:
        //Pawn      = 12 + zero = 13  [00..12]
        //Knight    =  8 + zero =  9  [13..21]
        //Bishop    = 13 + zero = 14  [22..35]
        //Rook      = 14 + zero = 15  [36..50]
        //Queen     = 27 + zero = 28  [51..78]
        //King      =  8 + zero =  9  [79..87]
        //--------------
        //TOTAL     = 82        = 88
        //static short[] PieceMobilityIndices = new short[8] { 0, 0, 13, 22, 36, 51, 79, 88 };


        public static short[] MidgameMobility = new short[88]
        {
            //Pawn:
            -8, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0,
            //Knight:
            0, 0, 0, 0, 0, 0, 0, 0, 0,
            //Bishop:
            -14, -4, 4, 10, 16, 19, 23, 26, 26, 34, 35, 36, 10, 3,
            //Rook:
            -42, -35, -30, -25, -25, -16, -11, -5, 3, 12, 13, 18, 30, 25, 25,
            //Queen:
            -28, -28, -25, -24, -19, -16, -14, -13, -10, -5, -2, -2, -1, 2, 5, 8, 5, 13, 15, 15, 16, 21, 20, 21, 18, 22, 7, 11,
            //King:
            17, 12, 5, -2, -7, -8, -5, -14, 2,
        };

        public static short[] EndgameMobility = new short[88]
        {
            //Pawn:
            -5, 0, 0, 0, 63, 0, 0, 0, 0, 0, 0, 0, 0,
            //Knight:
            0, 0, 0, 0, 0, 0, 0, 0, 0,
            //Bishop:
            -34, -33, -32, -29, -28, -25, -25, -27, -23, -36, -36, -41, 1, -6,
            //Rook:
            -2, 10, 9, 9, 20, 10, 8, 4, -5, -12, -11, -13, -20, -20, -19,
            //Queen:
            0, -4, -11, -17, -21, -16, -17, -12, -8, -7, -10, -8, 0, 0, -5, -1, 8, 2, 3, 7, 10, 11, 8, 8, 9, 13, 4, 7,
            //King:
            -4, -12, -5, 13, 19, 11, 5, 5, -32,
        };
    }
}
