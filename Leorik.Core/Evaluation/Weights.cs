namespace Leorik.Core
{
    public static class Weights
    {
        /*
            Rebalanced so that immobile pieces receive no mobility bonus (0, 0)
        */
        public static readonly short[] PhaseValues = new short[6] { 0, 237, 266, 469, 1372, 0 };

        public static readonly (short, short)[] Features = new (short, short)[10 * 64]
        {
            //Pawns
            ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0),
            ( 232, 110), ( 191, 135), ( 210, 102), ( 221,  65), ( 183,  72), ( 186, 100), ( 160, 156), ( 160, 177),
            ( 105, 169), ( 127, 152), ( 117, 114), ( 158,  43), ( 167,  41), ( 212,  -7), ( 224,  75), ( 171, 101),
            ( 114, 126), ( 137, 115), ( 108,  99), ( 130,  63), ( 134,  74), ( 134,  76), ( 138,  88), ( 127, 118),
            (  98, 112), ( 112, 117), ( 120,  69), ( 115,  64), ( 134,  84), ( 130,  76), ( 134,  79), ( 124,  76),
            (  97, 104), (  99,  90), (  92,  93), ( 101, 105), ( 103, 100), ( 110,  91), ( 126,  58), ( 120,  59),
            (  93, 110), ( 106, 113), ( 103,  96), ( 106, 112), ( 118, 123), ( 148,  74), ( 162,  21), ( 122,  52),
            ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0),
            //Knights
            ( 293, 186), ( 465, 161), ( 478, 172), ( 584,  43), ( 566,  73), ( 499, 131), ( 477, 121), ( 339,  54),
            ( 451, 158), ( 469, 199), ( 512, 178), ( 577, 127), ( 542, 148), ( 588,  41), ( 472, 151), ( 499, 113),
            ( 448, 220), ( 504, 212), ( 534, 202), ( 566, 193), ( 658,  45), ( 644,  52), ( 546, 155), ( 491, 148),
            ( 468, 197), ( 491, 213), ( 529, 225), ( 549, 225), ( 526, 244), ( 559, 211), ( 515, 207), ( 518, 140),
            ( 457, 189), ( 482, 206), ( 511, 230), ( 503, 255), ( 522, 240), ( 519, 221), ( 517, 193), ( 474, 174),
            ( 420, 188), ( 476, 212), ( 488, 221), ( 497, 240), ( 508, 220), ( 499, 202), ( 495, 192), ( 460, 164),
            ( 417, 151), ( 439, 182), ( 459, 181), ( 478, 191), ( 479, 193), ( 469, 177), ( 439, 172), ( 446, 128),
            ( 378,  57), ( 441, 165), ( 433, 165), ( 448, 190), ( 448, 190), ( 446, 159), ( 427,  96), ( 377,  61),
            //Bishops
            ( 459, 184), ( 449, 223), ( 464, 197), ( 448, 204), ( 434, 227), ( 447, 206), ( 502, 165), ( 493, 137),
            ( 434, 201), ( 465, 197), ( 471, 172), ( 477, 182), ( 488, 173), ( 471, 186), ( 446, 223), ( 448, 143),
            ( 460, 182), ( 483, 182), ( 489, 168), ( 510, 143), ( 534, 120), ( 579, 107), ( 532, 124), ( 499, 143),
            ( 459, 172), ( 471, 171), ( 485, 181), ( 515, 168), ( 497, 200), ( 497, 170), ( 474, 181), ( 470, 168),
            ( 467, 159), ( 473, 178), ( 479, 183), ( 495, 196), ( 495, 182), ( 473, 182), ( 484, 155), ( 478, 144),
            ( 470, 174), ( 489, 167), ( 478, 181), ( 482, 184), ( 478, 188), ( 482, 162), ( 489, 164), ( 483, 149),
            ( 475, 141), ( 471, 162), ( 480, 156), ( 463, 180), ( 471, 156), ( 476, 129), ( 489, 132), ( 463, 117),
            ( 456, 186), ( 476, 122), ( 467, 163), ( 458, 160), ( 468, 155), ( 453, 166), ( 482, 122), ( 431, 147),
            //Rooks
            ( 713, 489), ( 712, 490), ( 741, 459), ( 745, 456), ( 770, 418), ( 792, 400), ( 774, 404), ( 788, 383),
            ( 696, 512), ( 684, 542), ( 730, 497), ( 758, 473), ( 759, 463), ( 815, 347), ( 779, 388), ( 816, 344),
            ( 677, 537), ( 696, 507), ( 696, 516), ( 726, 466), ( 768, 416), ( 811, 361), ( 804, 367), ( 758, 409),
            ( 665, 523), ( 666, 509), ( 689, 503), ( 695, 494), ( 687, 486), ( 723, 459), ( 725, 446), ( 690, 470),
            ( 643, 517), ( 639, 538), ( 664, 501), ( 657, 506), ( 667, 486), ( 667, 497), ( 690, 453), ( 651, 483),
            ( 627, 521), ( 648, 494), ( 639, 511), ( 650, 479), ( 663, 468), ( 660, 468), ( 687, 430), ( 657, 442),
            ( 630, 477), ( 642, 472), ( 655, 475), ( 660, 477), ( 664, 452), ( 652, 462), ( 679, 390), ( 621, 461),
            ( 657, 475), ( 659, 475), ( 673, 475), ( 681, 458), ( 681, 449), ( 676, 456), ( 655, 475), ( 660, 418),
            //Queens
            (1458,   3), (1501,  -5), (1510, -38), (1527, -36), (1536,  -3), (1558, -51), (1550, -63), (1525, -59),
            (1461,  15), (1467,  65), (1486,  91), (1508,  85), (1511, 128), (1547,  -2), (1492,  87), (1538,   5),
            (1469, -60), (1477, -16), (1487,  89), (1528,  26), (1547,  62), (1607, -50), (1569, -29), (1555,  16),
            (1457, -49), (1477,  -1), (1478,  45), (1498, 117), (1512, 104), (1521,  67), (1523,  59), (1517,  47),
            (1457, -96), (1470, -16), (1481, -28), (1490,  -7), (1493,  34), (1496,   3), (1508,  -8), (1500,  15),
            (1450, -68), (1470,-101), (1471, -34), (1473, -54), (1476, -82), (1489, -44), (1504, -42), (1482,-108),
            (1449,-120), (1461,-104), (1468,-113), (1472,-121), (1475,-109), (1475,-203), (1458,-235), (1424, -41),
            (1455,-132), (1444,-177), (1455,-166), (1482, -90), (1463,-185), (1430,-207), (1388,-162), (1427,-149),
            //Kings
            ( -59, -96), (  24, -23), (  38, -35), (  37,   1), (-158, 230), (  63, -39), (   6, -34), ( -17, -61),
            (  -2, -57), (  65, -15), (  80,   8), (  75,  39), (  81,  53), (   8, 134), (  74,  33), (  18, -40),
            (   6, -10), (  61,  11), (  69,  40), (  47,  68), (  97,  25), ( 104,  34), (  80,  36), (  11, -18),
            ( -45,   7), (  40,  21), ( -58, 162), (  26,  76), (  49,  45), (  19,  79), (   6,  73), ( -36,  -3),
            ( -15, -60), (  17,  -2), (  14,  35), ( -33, 104), ( -45, 114), ( -58, 116), ( -25,  50), ( -86,  23),
            (  -4, -87), (  50, -74), (   8,   6), ( -49,  97), ( -52,  91), ( -66,  91), (  10, -42), ( -15, -87),
            (  60,-212), (  34, -95), (  43, -69), ( -14,  13), ( -18,   7), (  11, -30), (  76,-150), (  74,-232),
            ( -33,-190), (  57,-221), (  49,-177), ( -88, -28), (  42,-198), (   1,-136), (  83,-251), (  55,-303),
            //Isolated Pawns
            (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0),
            (   9, -43), (  75, -94), (  23, -58), (  11, -36), (  69, -42), (  12,   9), (  -5,   5), ( -32,  21),
            (  19, -44), (   3, -62), (   2, -21), (  28, -38), (  40,  -9), (   4,  28), (  29, -54), (  -5, -24),
            (  -5,  -6), (  -9, -36), (   1, -15), ( -12,  -6), (  -5,   6), (  24, -31), (  20, -53), (  -2, -31),
            (  -9,   0), ( -13,  -6), ( -15,   9), ( -24,  25), ( -25,  -1), ( -23,  11), ( -24,  -3), ( -38,  23),
            ( -10,   6), ( -16,  11), (  -5,   3), (  -8, -11), ( -18,   9), (   9, -22), ( -13,  -1), ( -24,  14),
            (  -8,   4), ( -21, -13), (  -3,  -9), ( -32,   1), ( -27,  20), ( -20,   5), ( -11,   2), ( -12,   0),
            (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0),
            //Passed Pawns
            (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0),
            ( 132, 110), (  91, 135), ( 110, 102), ( 121,  65), (  83,  72), (  86, 100), (  60, 156), (  60, 177),
            ( 125, 178), ( 146, 152), ( 128, 135), (  58, 137), (  65,  82), ( 126,  92), (  52, 178), (  26, 257),
            (  65, 109), (  66,  94), (  55,  77), (  45,  54), (  27,  38), (  52,  60), (  67,  89), (  21, 139),
            (  35,  57), (  23,  60), (   8,  65), (  18,  29), (  10,  27), (  19,  42), (  41,  62), (   9,  96),
            (   4,  27), (  -1,  43), (   3,  16), (  -2,  -1), (   6,   9), (  -6,  40), (  22,  16), (  46, -34),
            (   9,  -8), (  14,  18), (   9,  10), ( -15,   2), (  13, -20), (   7, -16), (  27,  -8), (  34, -34),
            (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0),
            //Protected Pawns
            (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0),
            (  22,  -2), ( 109,  38), (  53,  34), (  75,  16), (  57,  33), (  40,  37), (  45,  46), (  77,  70),
            (  30,  16), (  22,  52), (  77,  -1), ( 106, -11), ( 111,  -9), (  63,  44), (  -1,  37), (  18,   7),
            (  -6,  31), (   5,   2), (  30, -11), (  12,  23), (  42,   6), (  24,   4), (   8,   9), (  -7,   7),
            (   7,  21), (  19,  -2), (  13,  19), (  23,  27), (  16,  14), (   9,  13), (  14,  -4), (   4,   6),
            (   9,   6), (  18,  26), (  25,  13), (  31,  21), (  31,  21), (  21,  21), (  28,  -6), (  20,   4),
            (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0),
            (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0),
            //Connected Pawns
            (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0),
            (  66,  57), (  86,  73), (  49,  41), (  60,  49), (  53,  37), (  35,  22), (  41,  35), (  29,  25),
            (  69,  51), ( 112,  80), (  78,  52), ( 130,  75), ( 110,  69), (  85,  34), ( 143,  72), (  74,  54),
            (   8,  24), (  28,  49), (  37,  35), (  54,  35), (  78,  -6), (  80, -15), (  32,  36), (  28,  13),
            (   3,   0), (  15,  15), (   9,  10), (  19,  39), (  25,   4), (  26,   4), (  15, -18), (   6,  17),
            (   3,  -4), (   7,  21), (  12,  10), (  14, -18), (  21,   2), (  18, -19), (   1,  33), (   8, -30),
            (   4,   2), (   4, -10), (   2,  26), (  16,  -2), (  11,  26), (  -8, -21), (   3,  41), (  -3, -23),
            (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0),
        };

        //Max possible moves:
        //Pawn      = 12 + zero = 13  [00..12]
        //Knight    =  8 + zero =  9  [13..21]
        //Bishop    = 13 + zero = 14  [22..35]
        //Rook      = 14 + zero = 15  [36..50]
        //Queen     = 27 + zero = 28  [51..78]
        //King      =  8 + zero =  9  [79..87]
        //--------------
        //TOTAL     = 82        = 88
        //static short[] PieceMobilityIndices = new short[8] { 0, 0, 13, 22, 36, 51, 79, 88 };

        public static (short, short)[] Mobility = new (short, short)[88]
        {
            //Pawn:
            (-11,-18), (0,0), (0,0), (79,170), (0,0), (0,0), (0,0), (0,0), (0,0), (0,0), (0,0), (0,0), (0,0),
            //Knight:
            (0,0), (0,0), (0,0), (0,0), (0,0), (0,0), (0,0), (0,0), (0,0),
            //Bishop:
            (0,1), (9,1), (21,6), (26,24), (37,44), (48,51), (52,59), (56,58), (59,60), (65,55), (64,49), (72,44), (103,2), (102,-11),
            //Rook:
            (1,0), (7,13), (22,28), (24,19), (28,21), (35,17), (40,18), (48,10), (57,12), (64,8), (70,12), (78,7), (88,4), (103,-28), (95,-13),
            //Queen:
            (0,-1), (62,229), (81,272), (90,295), (115,402), (114,393), (117,409), (124,422), (128,441), (134,453), (138,451), (140,461), (146,485), (147,485), (147,491), (152,516), (151,523), (150,529), (153,531), (159,518), (167,509), (169,482), (188,447), (195,425), (192,398), (174,395), (3,308), (-9,325),
            //King:
            (0,0), (12,52), (8,31), (6,19), (-3,18), (-7,0), (-17,6), (-47,25), (-77,11),
        };
    }
}
