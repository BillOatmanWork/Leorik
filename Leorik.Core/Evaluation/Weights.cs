namespace Leorik.Core
{
    public static class Weights
    {
        /*
            Rebalanced so that immobile pieces receive no mobility bonus (0, 0)
        */

        public static readonly short[] PhaseValues = new short[6] { 0, 190, 184, 347, 1057, 0 };

        public static readonly (short, short)[] Features = new (short, short)[10 * 64]{
            //Pawns
            ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0),
            ( 316, 160), ( 161, 295), ( 220, 221), ( 262, 168), ( 206, 158), ( 205, 189), ( 105, 350), ( 155, 320),
            (  71, 179), ( 105, 163), (  92, 138), ( 149, 101), ( 155,  59), ( 239, -62), ( 208,  94), ( 146, 123),
            (  72, 146), ( 107, 133), (  76, 112), ( 111,  83), ( 125,  64), ( 129,  50), ( 118,  77), ( 111, 118),
            (  61, 145), (  85, 135), ( 105,  66), ( 116,  34), ( 129,  62), ( 122,  66), ( 109,  83), ( 101,  86),
            (  58, 122), (  81, 106), (  70,  90), (  86, 105), (  91,  79), ( 101,  79), ( 116,  50), (  93,  77),
            (  53, 137), (  76, 123), (  74, 101), (  78,  93), (  91, 117), ( 150,  38), ( 158,   4), ( 107,  56),
            ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0), ( 100,   0),
            //Knights
            ( 171, 261), ( 404, 145), ( 395, 147), ( 598, -60), ( 527,  38), ( 439, 128), ( 442, 107), ( 329,  52),
            ( 412,  87), ( 404, 183), ( 482, 110), ( 514,  89), ( 504,  97), ( 563, -23), ( 408, 117), ( 520, -25),
            ( 394, 159), ( 470, 116), ( 471, 164), ( 516, 122), ( 661, -89), ( 627, -44), ( 506,  75), ( 452,  99),
            ( 430, 131), ( 451, 144), ( 476, 176), ( 505, 135), ( 469, 163), ( 521, 117), ( 471, 130), ( 501,  32),
            ( 414, 143), ( 421, 164), ( 472, 152), ( 450, 194), ( 468, 174), ( 473, 139), ( 478,  94), ( 439, 102),
            ( 397, 158), ( 438, 155), ( 456, 150), ( 444, 178), ( 466, 149), ( 465, 125), ( 472, 106), ( 412, 107),
            ( 403,  80), ( 408, 130), ( 427, 125), ( 454, 101), ( 445, 132), ( 442,  98), ( 427,  81), ( 435,  57),
            ( 344,  62), ( 428,  71), ( 409, 100), ( 400, 149), ( 419, 123), ( 434,  74), ( 418,  46), ( 371,  59),
            //Bishops
            ( 422,  76), ( 434,  80), ( 448,  54), ( 411,  88), ( 443,  39), ( 386, 140), ( 488,  30), ( 453,  35),
            ( 391,  86), ( 446,  54), ( 436,  54), ( 478,  23), ( 474,  33), ( 415, 113), ( 432,  88), ( 426,  63),
            ( 447,  51), ( 458,  45), ( 469,  37), ( 493,  -8), ( 516, -13), ( 577, -56), ( 522, -11), ( 480,   9),
            ( 437,  49), ( 454,  39), ( 462,  53), ( 485,  56), ( 464,  80), ( 472,  39), ( 445,  54), ( 456,  37),
            ( 434,  57), ( 455,  45), ( 458,  64), ( 473,  73), ( 482,  38), ( 446,  59), ( 461,  34), ( 471,   8),
            ( 453,  49), ( 484,  27), ( 458,  62), ( 461,  69), ( 454,  61), ( 477,  20), ( 485,  10), ( 478,   2),
            ( 490, -26), ( 452,  54), ( 479,   8), ( 441,  64), ( 461,  22), ( 482, -11), ( 486, -13), ( 452,   4),
            ( 420,  93), ( 484, -37), ( 447,  52), ( 451,  18), ( 465,  18), ( 435,  51), ( 465,  -1), ( 423,  58),
            //Rooks
            ( 607, 402), ( 631, 379), ( 637, 368), ( 645, 356), ( 711, 277), ( 727, 264), ( 715, 261), ( 749, 214),
            ( 584, 430), ( 566, 454), ( 630, 392), ( 664, 368), ( 679, 335), ( 756, 210), ( 693, 280), ( 770, 186),
            ( 555, 462), ( 588, 417), ( 575, 447), ( 633, 365), ( 682, 308), ( 762, 201), ( 742, 224), ( 695, 265),
            ( 535, 458), ( 551, 436), ( 587, 411), ( 589, 400), ( 582, 399), ( 649, 326), ( 658, 312), ( 560, 407),
            ( 527, 442), ( 538, 432), ( 569, 407), ( 574, 391), ( 563, 401), ( 578, 378), ( 615, 325), ( 576, 358),
            ( 528, 424), ( 557, 386), ( 535, 417), ( 562, 383), ( 585, 352), ( 587, 338), ( 627, 294), ( 562, 368),
            ( 541, 371), ( 545, 375), ( 561, 383), ( 566, 385), ( 583, 349), ( 577, 344), ( 622, 271), ( 516, 368),
            ( 563, 376), ( 567, 372), ( 582, 373), ( 593, 359), ( 603, 340), ( 596, 349), ( 527, 441), ( 569, 339),
            //Queens
            (1375, 299), (1419, 296), (1426, 297), (1429, 311), (1427, 335), (1466, 241), (1444, 262), (1463, 205),
            (1367, 334), (1349, 420), (1349, 463), (1403, 397), (1392, 429), (1460, 279), (1382, 388), (1462, 249),
            (1390, 260), (1391, 296), (1361, 442), (1404, 387), (1423, 402), (1520, 244), (1473, 253), (1477, 245),
            (1387, 271), (1382, 330), (1363, 382), (1365, 472), (1391, 432), (1403, 382), (1418, 361), (1406, 339),
            (1397, 245), (1378, 316), (1407, 280), (1417, 293), (1394, 346), (1418, 286), (1434, 237), (1426, 263),
            (1400, 180), (1421, 183), (1399, 287), (1408, 238), (1422, 202), (1428, 240), (1443, 236), (1439, 160),
            (1411, 149), (1401, 201), (1423, 168), (1426, 161), (1429, 166), (1465,  26), (1448,  19), (1389, 105),
            (1430,  88), (1397, 167), (1424, 113), (1431, 168), (1421, 124), (1393,  99), (1338, 150), (1350, 102),
            //Kings
            ( -73, -73), (   6, -35), (  31,   6), (  20,  29), (  55,  26), (  20,   7), (  20, -12), (   2, -28),
            (  -6, -48), (  52,   6), (  38,  64), (  35,  69), (  56,  64), (  57,  62), (  66,  41), (  -2, -16),
            (   7,   4), (  -1,  69), (  25,  73), (  22,  73), (  46,  84), (  67,  48), (  60,  38), (  -5,  12),
            ( -20,  -6), (  16,  42), (  16,  56), ( -24, 111), (  18,  62), ( -21, 104), ( -18,  82), ( -78,  53),
            ( -11, -55), (  14, -13), ( -19,  56), ( -75, 126), ( -80, 130), ( -91, 139), ( -45,  63), ( -96,  47),
            ( -26, -51), (  44, -81), ( -58,  65), ( -92, 120), (-126, 155), (-136, 158), (  -2, -29), ( -38, -52),
            (  93,-233), (  30,-105), (  29, -58), ( -43,  23), ( -67,  62), (  -5, -24), (  83,-155), ( 109,-252),
            ( -20,-176), (  92,-265), (  67,-194), (-124,  18), (  79,-229), ( -15, -99), ( 120,-275), ( 112,-333),
            //Isolated Pawns
            (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0),
            (   1, -10), (  27,   6), (  11,  -7), (  -9, -11), (  33,  14), (  10,  17), (  14,  10), ( -15,   4),
            (   4, -12), ( -14, -37), (  -9,  -8), (  17, -20), (  18,  10), (   7,   5), (  -8, -15), ( -23, -11),
            (  -2,   1), (   1, -34), (  22, -37), (  -4, -17), (  -6,  -4), (  23, -20), (   7, -11), ( -15, -17),
            ( -11,   5), ( -20,  -2), ( -25,  23), ( -37,  40), ( -37,  14), ( -21,   7), ( -19,   2), ( -45,  24),
            (  -6,  15), ( -14,  -5), (  -7,   4), ( -11, -10), ( -33,  22), (  21, -35), (  -5,   0), ( -34,  22),
            (  -9,  15), ( -20,  -3), (  20, -28), ( -37,  22), ( -20,   7), ( -30,  18), ( -13,  10), ( -35,  24),
            (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0),
            //Passed Pawns
            (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0),
            (  22,  16), (   6,  29), (  12,  22), (  16,  17), (  11,  16), (  11,  19), (   1,  35), (   6,  32),
            ( 127, 129), ( 131, 115), ( 116,  88), (  43,  55), (  74,  32), ( 102,  92), (  76,  88), (  66, 127),
            (  56,  90), (  47,  73), (  41,  76), (  25,  54), (   8,  41), (  44,  64), (  43,  90), (  25, 105),
            (  25,  49), (  26,  38), ( -13,  80), (   0,  54), (  -2,  32), (  -1,  59), (  17,  67), (  20,  70),
            (  -8,  23), (  -5,  24), (  -2,  22), (  -5,  -4), (   4,   1), (  -1,  24), (  21,  10), (  63, -49),
            (  18, -22), (  13,   5), (  -4,  12), ( -27,   7), (   8,  -6), (  -3,   6), (  27, -11), (  59, -50),
            (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0),
            //Protected Pawns
            (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0),
            (  14,  13), (  40,  25), (  25,  15), (  25,  15), (  15,  10), (  11,  10), (  26,  24), (  20,  18),
            (  12,  10), (  24,  14), (  67,  -2), (  62,  27), (  65,  32), (  57,  39), (  -3,   0), (   5,   8),
            ( -11,  33), (   2,  14), (  39, -31), (  16,   9), (  43,   1), (  10,  18), (  16,  -5), (   8, -17),
            ( -12,  29), (  13,  -3), (   5,  14), (  17,  30), (   4,  22), (   0,  15), (  26, -18), (   5,  -6),
            (   9,  16), (  13,  33), (  21,   3), (  19,  25), (  22,  37), (  21,   8), (  28, -10), (  40, -28),
            (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0),
            (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0),
            //Connected Pawns
            (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0),
            (   7,   6), (  14,  12), (  11,   9), (   8,   7), (   9,   8), (   6,   5), (   7,   6), (   6,   5),
            (  35,  29), (  63,  46), (  54,  34), (  51,  35), (  52,  36), (  51,  36), (  57,  48), (  33,  30),
            (   6,  33), (  16,  41), (  34,  23), (  53,  15), (  80,  -5), (  59,   2), (  32,  23), (  17,  15),
            (   5,  -3), (  15,  -3), (   2,  26), (  15,  37), (  10,  10), (  43, -16), (  -6,   4), (  20,  -2),
            (   3,   1), (  -1,  19), (   9,  14), (  19, -28), (  19,  -8), (   7,  25), (   0,  -6), (  26, -17),
            (  14,  15), (  -2, -15), (   6,  27), (  16, -34), (  17,   5), ( -13,  -7), ( -10,  39), (  13, -21),
            (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0), (   0,   0),
        };

        //Max possible moves:
        //Pawn      = 12 + zero = 13  [00..12]
        //Knight    =  8 + zero =  9  [13..21]
        //Bishop    = 13 + zero = 14  [22..35]
        //Rook      = 14 + zero = 15  [36..50]
        //Queen     = 27 + zero = 28  [51..78]
        //King      =  8 + zero =  9  [79..87]
        //--------------
        //TOTAL     = 82        = 88
        //static short[] PieceMobilityIndices = new short[8] { 0, 0, 13, 22, 36, 51, 79, 88 };

        public static (short, short)[] Mobility = new (short, short)[88]
        {
            //Pawn:
            (-8,-19), (0,0), (0,0), (0,0), (99,147), (0,0), (0,0), (0,0), (0,0), (0,0), (0,0), (0,0), (0,0),
            //Knight:
            (0,0), (0,0), (0,0), (0,0), (0,0), (0,0), (0,0), (0,0), (0,0),
            //Bishop:
            (0,0), (-2,48), (12,65), (12,81), (18,104), (21,117), (26,115), (27,119), (32,119), (41,110), (44,99), (49,92), (42,79), (46,85),
            //Rook:
            (0,0), (8,-1), (13,27), (19,29), (24,19), (32,13), (37,13), (48,1), (55,1), (60,1), (66,1), (73,-3), (86,-12), (96,-37), (94,-30),
            //Queen:
            (0,0), (9,-8), (10,3), (9,2), (11,-23), (9,34), (5,62), (7,60), (5,82), (11,72), (11,87), (14,86), (12,112), (15,105), (29,67), (16,112), (15,121), (6,139), (16,126), (23,95), (40,89), (31,93), (42,77), (39,81), (16,65), (2,57), (-58,22), (-61,21),
            //King:
            (0,0), (9,37), (16,6), (17,5), (3,15), (6,-12), (-8,8), (-39,27), (-32,-23),
        };
    }
}
